{"version":3,"file":"2.1.2.js","names":["stringToArray","value","match","module","exports","context","Syntax","RuleError","report","getSource","Str","node","isUserWrittenNode","text","strArray","index","length","item","kanjiRegExp","test","isJoyo"],"sources":["../src/2.1.2.js"],"sourcesContent":["// LICENSE : MIT\n\"use strict\";\n/*\n2.1.2.漢字\n漢字は「全角」で表記します。漢字の使用は、平成 22 年 11 月 30 日内閣告示第 2 号の「常用漢字表」に原則として準じます。\nただし、「常用漢字表」にない漢字であっても実務翻訳で慣用的に用いられる語には漢字を使います。\n */\nimport { isUserWrittenNode } from \"./util/node-util\";\nimport { isJoyo } from \"sorted-joyo-kanji\";\nimport { kanjiRegExp } from \"./util/regexp\";\n// http://qiita.com/YusukeHirao/items/2f0fb8d5bbb981101be0\nfunction stringToArray(value) {\n    return value.match(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[^\\uD800-\\uDFFF]/g) || [];\n}\n\nmodule.exports = function (context) {\n    let { Syntax, RuleError, report, getSource } = context;\n    return {\n        [Syntax.Str](node) {\n            if (!isUserWrittenNode(node, context)) {\n                return;\n            }\n            const text = getSource(node);\n            const strArray = stringToArray(text);\n            for (let index = 0; index < strArray.length; index++) {\n                const item = strArray[index];\n                if (kanjiRegExp.test(item) && !isJoyo(item)) {\n                    report(\n                        node,\n                        new RuleError(\"「\" + item + \"」は「常用漢字表」外の漢字です。\", {\n                            index\n                        })\n                    );\n                }\n            }\n        }\n    };\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;;AACA;;AACA;;AACA;AACA,SAASA,aAAT,CAAuBC,KAAvB,EAA8B;EAC1B,OAAOA,KAAK,CAACC,KAAN,CAAY,kDAAZ,KAAmE,EAA1E;AACH;;AAEDC,MAAM,CAACC,OAAP,GAAiB,UAAUC,OAAV,EAAmB;EAChC,IAAI;IAAEC,MAAF;IAAUC,SAAV;IAAqBC,MAArB;IAA6BC;EAA7B,IAA2CJ,OAA/C;EACA,OAAO;IACH,CAACC,MAAM,CAACI,GAAR,EAAaC,IAAb,EAAmB;MACf,IAAI,CAAC,IAAAC,2BAAA,EAAkBD,IAAlB,EAAwBN,OAAxB,CAAL,EAAuC;QACnC;MACH;;MACD,IAAMQ,IAAI,GAAGJ,SAAS,CAACE,IAAD,CAAtB;MACA,IAAMG,QAAQ,GAAGd,aAAa,CAACa,IAAD,CAA9B;;MACA,KAAK,IAAIE,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGD,QAAQ,CAACE,MAArC,EAA6CD,KAAK,EAAlD,EAAsD;QAClD,IAAME,IAAI,GAAGH,QAAQ,CAACC,KAAD,CAArB;;QACA,IAAIG,mBAAA,CAAYC,IAAZ,CAAiBF,IAAjB,KAA0B,CAAC,IAAAG,uBAAA,EAAOH,IAAP,CAA/B,EAA6C;UACzCT,MAAM,CACFG,IADE,EAEF,IAAIJ,SAAJ,CAAc,MAAMU,IAAN,GAAa,kBAA3B,EAA+C;YAC3CF;UAD2C,CAA/C,CAFE,CAAN;QAMH;MACJ;IACJ;;EAlBE,CAAP;AAoBH,CAtBD"}