{"version":3,"file":"1.2.2.js","names":["replaceSymbol","report","context","Syntax","RuleError","fixer","getSource","Str","node","isUserWrittenNode","text","test","index","search","symbol","fix","replaceTextRange","module","exports","linter"],"sources":["../src/1.2.2.js"],"sourcesContent":["// LICENSE : MIT\n\"use strict\";\nimport { isUserWrittenNode } from \"./util/node-util\";\n/*\n1.2.2. ピリオド(.)とカンマ(,)\n欧文で表記する組織名などの固有名詞や数字にピリオド(.)やカンマ(,)が含まれる場合は、和文中でもピリオド(.)とカンマ(,)を使用します。\nいずれの場合も半角で表記します。「4.1.3 ピリオド(.)、カンマ(,)」を参照してく ださい。\n */\n\n// . => 。 の置換マップ\nconst replaceSymbol = {\n    \"．\": \".\",\n    \"，\": \",\"\n};\nfunction report(context) {\n    let { Syntax, RuleError, fixer, report, getSource } = context;\n    return {\n        [Syntax.Str](node) {\n            if (!isUserWrittenNode(node, context)) {\n                return;\n            }\n            let text = getSource(node);\n            // 1.2.2. ピリオド(.)とカンマ(,)\n            if (/[．，]/.test(text)) {\n                const index = text.search(/[．，]/);\n                const symbol = replaceSymbol[text[index]];\n                report(\n                    node,\n                    new RuleError(\"全角のピリオドとカンマは使用しません。\", {\n                        index: index,\n                        fix: fixer.replaceTextRange([index, index + 1], symbol)\n                    })\n                );\n            }\n        }\n    };\n}\nmodule.exports = {\n    linter: report,\n    fixer: report\n};\n"],"mappings":"AAAA;AACA;;AACA;;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,IAAMA,aAAa,GAAG;EAClB,KAAK,GADa;EAElB,KAAK;AAFa,CAAtB;;AAIA,SAASC,MAAT,CAAgBC,OAAhB,EAAyB;EACrB,IAAI;IAAEC,MAAF;IAAUC,SAAV;IAAqBC,KAArB;IAA4BJ,MAA5B;IAAoCK;EAApC,IAAkDJ,OAAtD;EACA,OAAO;IACH,CAACC,MAAM,CAACI,GAAR,EAAaC,IAAb,EAAmB;MACf,IAAI,CAAC,IAAAC,2BAAA,EAAkBD,IAAlB,EAAwBN,OAAxB,CAAL,EAAuC;QACnC;MACH;;MACD,IAAIQ,IAAI,GAAGJ,SAAS,CAACE,IAAD,CAApB,CAJe,CAKf;;MACA,IAAI,OAAOG,IAAP,CAAYD,IAAZ,CAAJ,EAAuB;QACnB,IAAME,KAAK,GAAGF,IAAI,CAACG,MAAL,CAAY,MAAZ,CAAd;QACA,IAAMC,MAAM,GAAGd,aAAa,CAACU,IAAI,CAACE,KAAD,CAAL,CAA5B;QACAX,MAAM,CACFO,IADE,EAEF,IAAIJ,SAAJ,CAAc,qBAAd,EAAqC;UACjCQ,KAAK,EAAEA,KAD0B;UAEjCG,GAAG,EAAEV,KAAK,CAACW,gBAAN,CAAuB,CAACJ,KAAD,EAAQA,KAAK,GAAG,CAAhB,CAAvB,EAA2CE,MAA3C;QAF4B,CAArC,CAFE,CAAN;MAOH;IACJ;;EAlBE,CAAP;AAoBH;;AACDG,MAAM,CAACC,OAAP,GAAiB;EACbC,MAAM,EAAElB,MADK;EAEbI,KAAK,EAAEJ;AAFM,CAAjB"}