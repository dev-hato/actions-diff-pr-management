{"version":3,"sources":["../src/index.ts"],"names":["reporter","context","fixer","getSource","report","RuleError","Syntax","Str","node","text","matchAll","forEach","match","index","undefined","TextlintRuleNoZeroWidthSpacesError","ruleError","fix","replaceTextRange","length","module","linter"],"mappings":";;;;;;;AACA;;;;;;AAEA,IAAMA,QAA8B,GAAIC,OAAD,IAAa;AAClD,MAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA,SAAT;AAAoBC,IAAAA,MAApB;AAA4BC,IAAAA,SAA5B;AAAuCC,IAAAA;AAAvC,MAAkDL,OAAxD;AAEA,SAAO;AACL,KAAOK,MAAM,CAACC,GAAd,EAAmBC,IAAnB,EAAyB;AAAA;AACvB,YAAMC,IAAI,GAAGN,SAAS,CAACK,IAAD,CAAtB;AAEA,SAAC,GAAGC,IAAI,CAACC,QAAL,CAAc,SAAd,CAAJ,EAA8BC,OAA9B,CAAuCC,KAAD,IAAW;AAC/C,cAAIA,KAAK,CAACC,KAAN,KAAgBC,SAApB,EAA+B;AAC7B,kBAAM,IAAIC,sEAAJ,EAAN;AACD;;AAED,cAAMC,SAAS,GAAG,IAAIX,SAAJ,CAAc,iCAAd,EAAiD;AACjEQ,YAAAA,KAAK,EAAED,KAAK,CAACC,KADoD;AAEjEI,YAAAA,GAAG,EAAEf,KAAK,CAACgB,gBAAN,CACH,CAACN,KAAK,CAACC,KAAP,EAAcD,KAAK,CAACC,KAAN,GAAc,SAASM,MAArC,CADG,EAEH,EAFG;AAF4D,WAAjD,CAAlB;AAQAf,UAAAA,MAAM,CAACI,IAAD,EAAOQ,SAAP,CAAN;AACD,SAdD;AAHuB;AAkBxB;;AAnBI,GAAP;AAqBD,CAxBD;;AA0BA,IAAMI,OAA0B,GAAG;AACjClB,EAAAA,KAAK,EAAEF,QAD0B;AAEjCqB,EAAAA,MAAM,EAAErB;AAFyB,CAAnC;eAKeoB,O","sourcesContent":["import type { TextlintRuleModule, TextlintRuleReporter } from \"@textlint/types\";\nimport { TextlintRuleNoZeroWidthSpacesError } from \"./TextlintRuleNoZeroWidthSpacesError\";\n\nconst reporter: TextlintRuleReporter = (context) => {\n  const { fixer, getSource, report, RuleError, Syntax } = context;\n\n  return {\n    async [Syntax.Str](node) {\n      const text = getSource(node);\n\n      [...text.matchAll(/\\u200b/g)].forEach((match) => {\n        if (match.index === undefined) {\n          throw new TextlintRuleNoZeroWidthSpacesError();\n        }\n\n        const ruleError = new RuleError(\"Zero width space is disallowed.\", {\n          index: match.index,\n          fix: fixer.replaceTextRange(\n            [match.index, match.index + \"\\u200b\".length],\n            \"\"\n          ),\n        });\n\n        report(node, ruleError);\n      });\n    },\n  };\n};\n\nconst module: TextlintRuleModule = {\n  fixer: reporter,\n  linter: reporter\n};\n\nexport default module;\n"],"file":"index.js"}