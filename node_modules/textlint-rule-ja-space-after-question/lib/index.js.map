{"version":3,"sources":["../src/index.js"],"names":["reporter","context","Syntax","RuleError","report","fixer","getSource","helper","RuleHelper","Str","node","isPlainStrNode","text","matchAfter","forEach","match","index","fix","replaceTextRange","module","exports","linter"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;;AACA;;AACA,SAASA,QAAT,CAAkBC,OAAlB,EAA2B;AACvB,MAAM;AAACC,IAAAA,MAAD;AAASC,IAAAA,SAAT;AAAoBC,IAAAA,MAApB;AAA4BC,IAAAA,KAA5B;AAAmCC,IAAAA;AAAnC,MAAgDL,OAAtD;AACA,MAAMM,MAAM,GAAG,IAAIC,8BAAJ,EAAf;AACA,SAAO;AACH,KAACN,MAAM,CAACO,GAAR,EAAaC,IAAb,EAAkB;AACd,UAAI,CAACH,MAAM,CAACI,cAAP,CAAsBD,IAAtB,CAAL,EAAkC;AAC9B;AACH;;AACD,UAAIE,IAAI,GAAGN,SAAS,CAACI,IAAD,CAApB,CAJc,CAKd;AACA;;AACA,UAAMG,UAAU,GAAG,WAAnB;AACA,4CAAqBD,IAArB,EAA2BC,UAA3B,EAAuCC,OAAvC,CAA+CC,KAAK,IAAI;AACpD,YAAM;AAACC,UAAAA;AAAD,YAAUD,KAAhB;AACA,eAAOX,MAAM,CAACM,IAAD,EAAO,IAAIP,SAAJ,CAAc,yCAAd,EAAyD;AACzEa,UAAAA,KAAK,EAAEA,KADkE;AAEzEC,UAAAA,GAAG,EAAEZ,KAAK,CAACa,gBAAN,CAAuB,CAACF,KAAD,EAAQA,KAAK,GAAG,CAAhB,CAAvB,EAA2C,GAA3C;AAFoE,SAAzD,CAAP,CAAb;AAIH,OAND;AAOH;;AAhBE,GAAP;AAkBH;;AACDG,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,MAAM,EAAErB,QADK;AAEbK,EAAAA,KAAK,EAAEL;AAFM,CAAjB","sourcesContent":["// LICENSE : MIT\n\"use strict\";\n/*\n 疑問符(?)\n 文末に疑問符を使用し、後に別の文が続く場合は、直後に全角スペースを挿入します。\n 文中に疑問符を使用する場合はスペースを挿入しません。\n */\nimport {RuleHelper} from \"textlint-rule-helper\";\nimport {matchCaptureGroupAll} from \"match-index\";\nfunction reporter(context) {\n    const {Syntax, RuleError, report, fixer, getSource} = context;\n    const helper = new RuleHelper();\n    return {\n        [Syntax.Str](node){\n            if (!helper.isPlainStrNode(node)) {\n                return;\n            }\n            let text = getSource(node);\n            // ？の後ろは全角スペースが推奨\n            // 半角スペースである場合はエラーとする\n            const matchAfter = /？( )[^\\n]/;\n            matchCaptureGroupAll(text, matchAfter).forEach(match => {\n                const {index} = match;\n                return report(node, new RuleError(\"文末に感嘆符を使用し、後に別の文が続く場合は、直後に全角スペースを挿入します。\", {\n                    index: index,\n                    fix: fixer.replaceTextRange([index, index + 1], \"　\")\n                }));\n            });\n        }\n    };\n}\nmodule.exports = {\n    linter: reporter,\n    fixer: reporter\n};\n"],"file":"index.js"}