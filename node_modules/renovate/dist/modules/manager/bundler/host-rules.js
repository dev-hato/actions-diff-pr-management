"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getAuthenticationHeaderValue = exports.findAllAuthenticatable = void 0;
const host_rules_1 = require("../../../util/host-rules");
function isAuthenticatable(rule) {
    return (!!rule.resolvedHost &&
        ((!!rule.username && !!rule.password) || !!rule.token));
}
function findAllAuthenticatable({ hostType, }) {
    return (0, host_rules_1.findAll)({ hostType }).filter(isAuthenticatable);
}
exports.findAllAuthenticatable = findAllAuthenticatable;
function getAuthenticationHeaderValue(hostRule) {
    if (hostRule.username) {
        // TODO: types (#7154)
        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions
        return `${hostRule.username}:${hostRule.password}`;
    }
    // TODO: types (#7154)
    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions
    return `${hostRule.token}`;
}
exports.getAuthenticationHeaderValue = getAuthenticationHeaderValue;
//# sourceMappingURL=host-rules.js.map