{"version":3,"file":"common.js","sourceRoot":"","sources":["../../../../lib/modules/datasource/github-releases/common.ts"],"names":[],"mappings":";;;AAAA,2CAAwD;AAExD,MAAM,oBAAoB,GAAG,qBAAqB,CAAC;AACnD,MAAM,iBAAiB,GAAG,yBAAyB,CAAC;AAEpD,SAAgB,gBAAgB,CAAC,WAA+B;IAC9D,qDAAqD;IACrD,OAAO,IAAA,yBAAmB,EAAC,WAAW,IAAI,oBAAoB,CAAC,CAAC;AAClE,CAAC;AAHD,4CAGC;AAED,SAAgB,aAAa,CAAC,WAA+B;IAC3D,MAAM,aAAa,GAAG,gBAAgB,CAAC,WAAW,CAAC,CAAC;IAEpD,IACE,aAAa,KAAK,oBAAoB;QACtC,aAAa,KAAK,iBAAiB,EACnC;QACA,OAAO,iBAAiB,CAAC;KAC1B;IAED,IAAI,aAAa,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;QACtC,OAAO,aAAa,CAAC;KACtB;IAED,OAAO,GAAG,aAAa,SAAS,CAAC;AACnC,CAAC;AAfD,sCAeC;AAED,SAAgB,YAAY,CAC1B,WAAmB,EACnB,WAAoB;IAEpB,MAAM,aAAa,GAAG,gBAAgB,CAAC,WAAW,CAAC,CAAC;IACpD,OAAO,GAAG,aAAa,GAAG,WAAW,EAAE,CAAC;AAC1C,CAAC;AAND,oCAMC","sourcesContent":["import { ensureTrailingSlash } from '../../../util/url';\n\nconst defaultSourceUrlBase = 'https://github.com/';\nconst defaultApiBaseUrl = 'https://api.github.com/';\n\nexport function getSourceUrlBase(registryUrl: string | undefined): string {\n  // default to GitHub.com if no GHE host is specified.\n  return ensureTrailingSlash(registryUrl ?? defaultSourceUrlBase);\n}\n\nexport function getApiBaseUrl(registryUrl: string | undefined): string {\n  const sourceUrlBase = getSourceUrlBase(registryUrl);\n\n  if (\n    sourceUrlBase === defaultSourceUrlBase ||\n    sourceUrlBase === defaultApiBaseUrl\n  ) {\n    return defaultApiBaseUrl;\n  }\n\n  if (sourceUrlBase.endsWith('/api/v3/')) {\n    return sourceUrlBase;\n  }\n\n  return `${sourceUrlBase}api/v3/`;\n}\n\nexport function getSourceUrl(\n  packageName: string,\n  registryUrl?: string\n): string {\n  const sourceUrlBase = getSourceUrlBase(registryUrl);\n  return `${sourceUrlBase}${packageName}`;\n}\n"]}