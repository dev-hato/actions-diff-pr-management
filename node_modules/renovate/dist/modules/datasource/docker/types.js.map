{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../../lib/modules/datasource/docker/types.ts"],"names":[],"mappings":";;;AAAA,eAAe;AACf,yDAAyD;AACzD;;;;GAIG;AACH,mDAAmD;AACnD,IAAY,SAMX;AAND,WAAY,SAAS;IACnB,gFAAmE,CAAA;IACnE,gFAAmE,CAAA;IACnE,yFAA4E,CAAA;IAC5E,yEAA4D,CAAA;IAC5D,2EAA8D,CAAA;AAChE,CAAC,EANW,SAAS,GAAT,iBAAS,KAAT,iBAAS,QAMpB","sourcesContent":["// FIXME #12556\n/* eslint-disable @typescript-eslint/naming-convention */\n/**\n * Media Types\n * https://docs.docker.com/registry/spec/manifest-v2-2/#media-types\n * https://github.com/opencontainers/image-spec/blob/main/media-types.md\n */\n// eslint-disable-next-line typescript-enum/no-enum\nexport enum MediaType {\n  manifestV1 = 'application/vnd.docker.distribution.manifest.v1+json',\n  manifestV2 = 'application/vnd.docker.distribution.manifest.v2+json',\n  manifestListV2 = 'application/vnd.docker.distribution.manifest.list.v2+json',\n  ociManifestV1 = 'application/vnd.oci.image.manifest.v1+json',\n  ociManifestIndexV1 = 'application/vnd.oci.image.index.v1+json',\n}\n/* eslint-enable @typescript-eslint/naming-convention */\n\nexport interface MediaObject {\n  readonly digest: string;\n  readonly mediaType: MediaType;\n  readonly size: number;\n}\n\nexport interface ImageListImage extends MediaObject {\n  readonly mediaType: MediaType.manifestV1 | MediaType.manifestV2;\n\n  readonly platform: OciPlatform;\n}\n\n/**\n * Manifest List\n * https://docs.docker.com/registry/spec/manifest-v2-2/#manifest-list-field-descriptions\n */\nexport interface ImageList {\n  readonly schemaVersion: 2;\n  readonly mediaType: MediaType.manifestListV2;\n  readonly manifests: ImageListImage[];\n}\n\n/**\n * Image Manifest\n * https://docs.docker.com/registry/spec/manifest-v2-2/#image-manifest\n */\nexport interface Image extends MediaObject {\n  readonly schemaVersion: 2;\n  readonly mediaType: MediaType.manifestV2;\n\n  readonly config: MediaObject;\n}\n\n/**\n * OCI platform properties\n * https://github.com/opencontainers/image-spec/blob/main/image-index.md\n */\nexport interface OciPlatform {\n  architecture?: string;\n  features?: string[];\n  os?: string;\n  'os.features'?: string[];\n  'os.version'?: string;\n  variant?: string;\n}\n\n/**\n * OCI content descriptor\n * https://github.com/opencontainers/image-spec/blob/main/descriptor.md\n */\nexport interface OciDescriptor {\n  readonly mediaType?: MediaType;\n  readonly digest: string;\n  readonly size: number;\n  readonly urls: string[];\n  readonly annotations: Record<string, string>;\n}\n\n/**\n * OCI Image Manifest\n * The same structure as docker image manifest, but mediaType is not required and is not present in the wild.\n * https://github.com/opencontainers/image-spec/blob/main/manifest.md\n */\nexport interface OciImage {\n  readonly schemaVersion: 2;\n  readonly mediaType?: MediaType.ociManifestV1;\n  readonly config: OciDescriptor;\n  readonly layers: OciDescriptor[];\n  readonly annotations: Record<string, string>;\n}\n\nexport interface OciImageListManifest extends OciDescriptor {\n  readonly mediaType?: MediaType.ociManifestV1 | MediaType.ociManifestIndexV1;\n  readonly platform: OciPlatform;\n}\n\n/**\n * OCI Image List\n * mediaType is not required.\n * https://github.com/opencontainers/image-spec/blob/main/image-index.md\n */\nexport interface OciImageList {\n  readonly schemaVersion: 2;\n  readonly mediaType?: MediaType.ociManifestIndexV1;\n  readonly manifests: OciImageListManifest[];\n}\n\nexport interface RegistryRepository {\n  registryHost: string;\n  dockerRepository: string;\n}\n"]}