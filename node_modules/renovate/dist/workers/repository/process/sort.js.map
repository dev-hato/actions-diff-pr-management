{"version":3,"file":"sort.js","sourceRoot":"","sources":["../../../../lib/workers/repository/process/sort.ts"],"names":[],"mappings":";;;AAAA,4CAAyC;AAGzC,SAAgB,YAAY,CAAC,QAAiC;IAC5D,gBAAgB;IAChB,MAAM,SAAS,GAAG;QAChB,KAAK;QACL,QAAQ;QACR,OAAO;QACP,OAAO;QACP,OAAO;QACP,qBAAqB;KACtB,CAAC;IACF,eAAM,CAAC,KAAK,CAAC,EAAE,QAAQ,EAAE,EAAE,UAAU,CAAC,CAAC;IACvC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACrB,IAAI,CAAC,CAAC,oBAAoB,IAAI,CAAC,CAAC,CAAC,oBAAoB,EAAE;YACrD,OAAO,CAAC,CAAC,CAAC;SACX;QACD,aAAa;QACb,IAAI,CAAC,CAAC,UAAU,KAAK,CAAC,CAAC,UAAU,EAAE;YACjC,OAAO,CAAC,CAAC,UAAW,GAAG,CAAC,CAAC,UAAW,CAAC;SACtC;QACD,aAAa;QACb,MAAM,QAAQ,GACZ,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,UAAW,CAAC,GAAG,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,UAAW,CAAC,CAAC;QACtE,IAAI,QAAQ,KAAK,CAAC,EAAE;YAClB,OAAO,QAAQ,CAAC;SACjB;QACD,aAAa;QACb,4CAA4C;QAC5C,OAAO,CAAC,CAAC,OAAQ,GAAG,CAAC,CAAC,OAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1C,CAAC,CAAC,CAAC;AACL,CAAC;AA7BD,oCA6BC","sourcesContent":["import { logger } from '../../../logger';\nimport type { BranchConfig } from '../../types';\n\nexport function sortBranches(branches: Partial<BranchConfig>[]): void {\n  // Sort branches\n  const sortOrder = [\n    'pin',\n    'digest',\n    'patch',\n    'minor',\n    'major',\n    'lockFileMaintenance',\n  ];\n  logger.trace({ branches }, 'branches');\n  branches.sort((a, b) => {\n    if (a.isVulnerabilityAlert && !b.isVulnerabilityAlert) {\n      return -1;\n    }\n    // TODO #7154\n    if (a.prPriority !== b.prPriority) {\n      return b.prPriority! - a.prPriority!;\n    }\n    // TODO #7154\n    const sortDiff =\n      sortOrder.indexOf(a.updateType!) - sortOrder.indexOf(b.updateType!);\n    if (sortDiff !== 0) {\n      return sortDiff;\n    }\n    // TODO #7154\n    // Sort by prTitle if updateType is the same\n    return a.prTitle! < b.prTitle! ? -1 : 1;\n  });\n}\n"]}