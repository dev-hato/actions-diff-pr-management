{"version":3,"file":"repository-statistics.js","sourceRoot":"","sources":["../../../../lib/workers/repository/finalise/repository-statistics.ts"],"names":[],"mappings":";;;AACA,4CAAyC;AAEzC,0CAAyC;AAEzC,SAAgB,oBAAoB,CAClC,MAAsB,EACtB,MAAY;IAEZ,MAAM,OAAO,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;IAE5D,KAAK,MAAM,EAAE,IAAI,MAAM,EAAE;QACvB,IACE,EAAE,CAAC,KAAK,KAAK,oBAAoB;YACjC,EAAE,CAAC,KAAK,KAAK,MAAM,CAAC,iBAAiB,EACrC;YACA,SAAS;SACV;QACD,OAAO,CAAC,KAAK,IAAI,CAAC,CAAC;QACnB,QAAQ,EAAE,CAAC,KAAK,EAAE;YAChB,KAAK,eAAO,CAAC,MAAM;gBACjB,OAAO,CAAC,MAAM,IAAI,CAAC,CAAC;gBACpB,MAAM;YACR,KAAK,eAAO,CAAC,MAAM;gBACjB,OAAO,CAAC,MAAM,IAAI,CAAC,CAAC;gBACpB,MAAM;YACR,KAAK,eAAO,CAAC,IAAI;gBACf,OAAO,CAAC,IAAI,IAAI,CAAC,CAAC;gBAClB,MAAM;YACR;gBACE,MAAM;SACT;KACF;IACD,eAAM,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,mCAAmC,CAAC,CAAC;AACxE,CAAC;AA7BD,oDA6BC","sourcesContent":["import type { RenovateConfig } from '../../../config/types';\nimport { logger } from '../../../logger';\nimport type { Pr } from '../../../modules/platform';\nimport { PrState } from '../../../types';\n\nexport function runRenovateRepoStats(\n  config: RenovateConfig,\n  prList: Pr[]\n): void {\n  const prStats = { total: 0, open: 0, closed: 0, merged: 0 };\n\n  for (const pr of prList) {\n    if (\n      pr.title === 'Configure Renovate' ||\n      pr.title === config.onboardingPrTitle\n    ) {\n      continue;\n    }\n    prStats.total += 1;\n    switch (pr.state) {\n      case PrState.Merged:\n        prStats.merged += 1;\n        break;\n      case PrState.Closed:\n        prStats.closed += 1;\n        break;\n      case PrState.Open:\n        prStats.open += 1;\n        break;\n      default:\n        break;\n    }\n  }\n  logger.debug({ stats: prStats }, `Renovate repository PR statistics`);\n}\n"]}