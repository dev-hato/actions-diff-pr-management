{"version":3,"file":"env.js","sourceRoot":"","sources":["../../../lib/util/exec/env.ts"],"names":[],"mappings":";;;AAAA,gDAAmD;AAEnD,MAAM,YAAY,GAAG;IACnB,YAAY;IACZ,aAAa;IACb,UAAU;IACV,YAAY;IACZ,aAAa;IACb,UAAU;IACV,MAAM;IACN,MAAM;IACN,QAAQ;IACR,MAAM;IACN,aAAa;IACb,mBAAmB;IACnB,kBAAkB;CACnB,CAAC;AAEF,SAAgB,kBAAkB,CAChC,gBAA0B,EAAE;IAE5B,MAAM,GAAG,GAAsB,EAAE,CAAC;IAClC,IAAI,qBAAY,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE;QACpC,OAAO,EAAE,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;KAC3B;IACD,MAAM,OAAO,GAAG,CAAC,GAAG,YAAY,EAAE,GAAG,aAAa,CAAC,CAAC;IACpD,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;QACzB,IAAI,OAAO,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,WAAW,EAAE;YAC9C,GAAG,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;SACnC;IACH,CAAC,CAAC,CAAC;IACH,OAAO,GAAG,CAAC;AACb,CAAC;AAdD,gDAcC","sourcesContent":["import { GlobalConfig } from '../../config/global';\n\nconst basicEnvVars = [\n  'HTTP_PROXY',\n  'HTTPS_PROXY',\n  'NO_PROXY',\n  'http_proxy',\n  'https_proxy',\n  'no_proxy',\n  'HOME',\n  'PATH',\n  'LC_ALL',\n  'LANG',\n  'DOCKER_HOST',\n  'DOCKER_TLS_VERIFY',\n  'DOCKER_CERT_PATH',\n];\n\nexport function getChildProcessEnv(\n  customEnvVars: string[] = []\n): NodeJS.ProcessEnv {\n  const env: NodeJS.ProcessEnv = {};\n  if (GlobalConfig.get('exposeAllEnv')) {\n    return { ...process.env };\n  }\n  const envVars = [...basicEnvVars, ...customEnvVars];\n  envVars.forEach((envVar) => {\n    if (typeof process.env[envVar] !== 'undefined') {\n      env[envVar] = process.env[envVar];\n    }\n  });\n  return env;\n}\n"]}