{"version":3,"file":"memoize.js","sourceRoot":"","sources":["../../lib/util/memoize.ts"],"names":[],"mappings":";;;AAIA,SAAgB,OAAO,CAAc,QAAiB;IACpD,IAAI,IAAI,GAAqB,IAAI,CAAC;IAElC,OAAO,GAAM,EAAE;QACb,IAAI,IAAI,EAAE;YACR,OAAO,IAAI,CAAC,GAAG,CAAC;SACjB;QAED,MAAM,GAAG,GAAG,QAAQ,EAAE,CAAC;QACvB,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC;QACf,OAAO,GAAG,CAAC;IACb,CAAC,CAAC;AACJ,CAAC;AAZD,0BAYC","sourcesContent":["interface Result<T = unknown> {\n  res: T;\n}\n\nexport function memoize<T = unknown>(callback: () => T): () => T {\n  let memo: null | Result<T> = null;\n\n  return (): T => {\n    if (memo) {\n      return memo.res;\n    }\n\n    const res = callback();\n    memo = { res };\n    return res;\n  };\n}\n"]}