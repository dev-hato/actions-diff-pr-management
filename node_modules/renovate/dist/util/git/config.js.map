{"version":3,"file":"config.js","sourceRoot":"","sources":["../../../lib/util/git/config.ts"],"names":[],"mappings":";;;;AAAA,kEAAkC;AAElC,gDAAmD;AAGnD,IAAI,QAAQ,GAAwB,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;AAEvD,SAAgB,WAAW,CAAC,KAA0B;IACpD,qBAAqB;IACrB,IAAI,CAAC,YAAE,CAAC,KAAK,CAAC,KAAK,EAAE,YAAE,CAAC,MAAM,CAAC,EAAE;QAC/B,MAAM,IAAI,KAAK,CAAC,yDAAyD,CAAC,CAAC;KAC5E;IACD,QAAQ,GAAG,KAAK,CAAC;AACnB,CAAC;AAND,kCAMC;AAED,SAAgB,WAAW;IACzB,OAAO,QAAQ,CAAC;AAClB,CAAC;AAFD,kCAEC;AAED,SAAgB,eAAe;IAC7B,MAAM,MAAM,GAA8B;QACxC,UAAU,EAAE;YACV,OAAO,EAAE,IAAI;YACb,MAAM,EAAE,KAAK;SACd;KACF,CAAC;IACF,8CAA8C;IAC9C,MAAM,UAAU,GAAG,qBAAY,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;IAClD,IAAI,YAAE,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,UAAU,GAAG,CAAC,EAAE;QAC3C,MAAM,CAAC,OAAO,GAAG,EAAE,KAAK,EAAE,UAAU,EAAE,CAAC;KACxC;IACD,OAAO,MAAM,CAAC;AAChB,CAAC;AAbD,0CAaC","sourcesContent":["import is from '@sindresorhus/is';\nimport type { SimpleGitOptions } from 'simple-git';\nimport { GlobalConfig } from '../../config/global';\nimport type { GitNoVerifyOption } from './types';\n\nlet noVerify: GitNoVerifyOption[] = ['push', 'commit'];\n\nexport function setNoVerify(value: GitNoVerifyOption[]): void {\n  // istanbul ignore if\n  if (!is.array(value, is.string)) {\n    throw new Error('config error: gitNoVerify should be an array of strings');\n  }\n  noVerify = value;\n}\n\nexport function getNoVerify(): GitNoVerifyOption[] {\n  return noVerify;\n}\n\nexport function simpleGitConfig(): Partial<SimpleGitOptions> {\n  const config: Partial<SimpleGitOptions> = {\n    completion: {\n      onClose: true,\n      onExit: false,\n    },\n  };\n  // https://github.com/steveukx/git-js/pull/591\n  const gitTimeout = GlobalConfig.get('gitTimeout');\n  if (is.number(gitTimeout) && gitTimeout > 0) {\n    config.timeout = { block: gitTimeout };\n  }\n  return config;\n}\n"]}