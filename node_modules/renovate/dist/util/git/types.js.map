{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../lib/util/git/types.ts"],"names":[],"mappings":"","sourcesContent":["import type { GitOptions } from '../../types/git';\n\nexport type { DiffResult, StatusResult } from 'simple-git';\n\nexport interface GitAuthor {\n  name?: string | null;\n  address?: string;\n}\n\nexport type GitNoVerifyOption = 'commit' | 'push';\n\nexport type CommitSha = string;\n\nexport interface StorageConfig {\n  currentBranch?: string;\n  url: string;\n  extraCloneOpts?: GitOptions;\n  cloneSubmodules?: boolean;\n  fullClone?: boolean;\n}\n\nexport interface LocalConfig extends StorageConfig {\n  additionalBranches: string[];\n  currentBranch: string;\n  currentBranchSha: string;\n  branchCommits: Record<string, CommitSha>;\n  branchIsModified: Record<string, boolean>;\n  ignoredAuthors: string[];\n  gitAuthorName?: string | null;\n  gitAuthorEmail?: string;\n\n  writeGitDone?: boolean;\n}\n\nexport interface FileAddition {\n  /**\n   * Addition creates new file or modifies existing one\n   */\n  type: 'addition';\n\n  /**\n   * Relative file path\n   */\n  path: string;\n\n  /**\n   * File contents\n   */\n  contents: string | Buffer | null;\n\n  /**\n   * The executable bit\n   */\n  isExecutable?: boolean;\n\n  isSymlink?: boolean;\n}\n\nexport interface FileDeletion {\n  /**\n   * Deletion removes the file\n   */\n  type: 'deletion';\n\n  /**\n   * Relative file path\n   */\n  path: string;\n}\n\nexport type FileChange = FileAddition | FileDeletion;\n\nexport interface CommitFilesConfig {\n  branchName: string;\n  files: FileChange[];\n  message: string;\n  force?: boolean;\n  platformCommit?: boolean;\n}\n\nexport type BranchName = string;\nexport type TargetBranchName = BranchName;\nexport type SourceBranchName = BranchName;\n\nexport type GitConflictsCache = Record<TargetBranchName, TargetBranchConflicts>;\n\nexport interface TargetBranchConflicts {\n  targetBranchSha: CommitSha;\n  sourceBranches: Record<SourceBranchName, SourceBranchConflict>;\n}\n\nexport interface SourceBranchConflict {\n  sourceBranchSha: CommitSha;\n  isConflicted: boolean;\n}\n\nexport interface CommitResult {\n  parentCommitSha: string;\n  commitSha: string;\n  files: FileChange[];\n}\n\nexport interface TreeItem {\n  path: string;\n  mode: string;\n  type: string;\n  sha: string;\n}\n\n/**\n * Represents a git authentication rule in the form of e.g.:\n * git config --global url.\"https://api@github.com/\".insteadOf \"https://github.com/\"\n */\nexport interface AuthenticationRule {\n  url: string;\n  insteadOf: string;\n}\n"]}