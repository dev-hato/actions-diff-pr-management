{"version":3,"file":"global.js","sourceRoot":"","sources":["../../lib/config/global.ts"],"names":[],"mappings":";;;AAEA,MAAa,YAAY;IAiCvB,MAAM,CAAC,GAAG,CACR,GAAS;QAET,OAAO,GAAG,CAAC,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC;IAC9D,CAAC;IAED,MAAM,CAAC,GAAG,CAAC,MAAyC;QAClD,YAAY,CAAC,KAAK,EAAE,CAAC;QAErB,MAAM,MAAM,GAAG,EAAE,GAAG,MAAM,EAAE,CAAC;QAC7B,KAAK,MAAM,MAAM,IAAI,YAAY,CAAC,OAAO,EAAE;YACzC,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC,MAAM,CAAU,CAAC;YACtD,OAAO,MAAM,CAAC,MAAM,CAAC,CAAC;SACvB;QAED,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,MAAM,CAAC,KAAK;QACV,YAAY,CAAC,MAAM,GAAG,EAAE,CAAC;IAC3B,CAAC;;AArDH,oCAsDC;AArDC,iIAAiI;AACzG,oBAAO,GAA+B;IAC5D,4BAA4B;IAC5B,4BAA4B;IAC5B,cAAc;IACd,mCAAmC;IACnC,cAAc;IACd,cAAc;IACd,UAAU;IACV,oBAAoB;IACpB,mBAAmB;IACnB,mBAAmB;IACnB,YAAY;IACZ,QAAQ;IACR,cAAc;IACd,kBAAkB;IAClB,iBAAiB;IACjB,UAAU;IACV,gBAAgB;IAChB,YAAY;IACZ,eAAe;IACf,YAAY;IACZ,UAAU;IACV,UAAU;CACX,CAAC;AAEa,mBAAM,GAAqB,EAAE,CAAC","sourcesContent":["import type { RenovateConfig, RepoGlobalConfig } from './types';\n\nexport class GlobalConfig {\n  // TODO: once global config work is complete, add a test to make sure this list includes all options with globalOnly=true (#9603)\n  private static readonly OPTIONS: (keyof RepoGlobalConfig)[] = [\n    'allowCustomCrateRegistries',\n    'allowedPostUpgradeCommands',\n    'allowPlugins',\n    'allowPostUpgradeCommandTemplating',\n    'allowScripts',\n    'binarySource',\n    'cacheDir',\n    'customEnvVariables',\n    'dockerChildPrefix',\n    'dockerImagePrefix',\n    'dockerUser',\n    'dryRun',\n    'exposeAllEnv',\n    'executionTimeout',\n    'githubTokenWarn',\n    'localDir',\n    'migratePresets',\n    'privateKey',\n    'privateKeyOld',\n    'gitTimeout',\n    'platform',\n    'endpoint',\n  ];\n\n  private static config: RepoGlobalConfig = {};\n\n  static get(): RepoGlobalConfig;\n  static get<Key extends keyof RepoGlobalConfig>(\n    key?: Key\n  ): RepoGlobalConfig[Key];\n  static get<Key extends keyof RepoGlobalConfig>(\n    key?: Key\n  ): RepoGlobalConfig | RepoGlobalConfig[Key] {\n    return key ? GlobalConfig.config[key] : GlobalConfig.config;\n  }\n\n  static set(config: RenovateConfig | RepoGlobalConfig): RenovateConfig {\n    GlobalConfig.reset();\n\n    const result = { ...config };\n    for (const option of GlobalConfig.OPTIONS) {\n      GlobalConfig.config[option] = config[option] as never;\n      delete result[option];\n    }\n\n    return result;\n  }\n\n  static reset(): void {\n    GlobalConfig.config = {};\n  }\n}\n"]}